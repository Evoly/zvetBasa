!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function o(e,o){var n=1<arguments.length&&void 0!==o?o:10,t=e.trim().match(i).join(""),s=t.length-n;return t.slice(s,t.length)}var l=/Android|webOS|iPhone|iPod|iPad|BlackBerry/.test(navigator.userAgent)&&!window.MSStream,a={default:{src:"#fancybox_default",type:"inline",opts:{touch:!1,afterShow:function(){$(".body_global").addClass("-scroll_off-")},beforeClose:function(){$(".body_global").removeClass("-scroll_off-"),l||$(".body_global").removeClass("compensate-for-scrollbar")}}}},i=/\d+/g,e=function(){var e=$('[type="tel"]');e.length&&(e.each(function(){$(this).inputmask({mask:"+7 (999) 999-99-99",onBeforeMask:function(e){if(!(e.length<10))return o(e)},onBeforePaste:function(e){if(!(e.length<10))return o(e)}})}),console.info('inputMask: [type="tel"] - runned'))},n=function(){var e=$(".js-selectize");e.length&&(e.each(function(){var e=$(this);e.hasClass("selectized")&&e.destroy(),e.selectize()}),console.info("selectize: .js-selectize - перезапущен"))},d={default:{centerMode:!0,infinite:!1,fade:!0,adaptiveHeight:!0},mainPage:{infinite:!1,slidesToShow:4,slidesToScroll:1,autoplay:!1,arrows:!0,responsive:[{breakpoint:960,settings:{slidesToShow:3}},{breakpoint:576,settings:{slidesToShow:2}},{breakpoint:400,settings:{slidesToShow:1}}]},banner:{infinite:!1,slidesToShow:1,slidesToScroll:1,autoplay:!1,arrows:!0}},t=function(){var c=$(".js-slick");c.length&&(c.each(function(){var e=$(this);e.hasClass("slick-initialized")&&e.slick("unslick");var o=e.parent(),n=e.data("slick")||"about",t=d[n],s=e.data("autoplay-speed")||!1,a=e.data("slick-nav")||!1,i=o.find(".js-slick-prev"),l=o.find(".js-slick-next");t||console.error("Неверно указан [data-slick]"),s&&(t.autoplay=!0,t.autoplaySpeed=s),a&&(t.asNavFor=$(a)),i.length||l.length?(t.prevArrow=i||!1,t.nextArrow=l||!1):t.arrows=!1,$(c).on("init",function(e,o){console.log("nav",$(".js-slickNav")),$(".js-slickNav").removeClass("is-hidden")}),e.slick(t)}),console.info("SlickCarousel: .js-slick - runned"),$(".main-slider .js-slick").on("beforeChange",function(e,o,n,t){var s=$(this).find("[data-slick-index=".concat(t,"]"));$(s).find(".js-count").text("".concat(t+1))}))},s=function(){var e=$('[data-toggle="tooltip_default"]');e.lenght&&(e.each(function(){$(this).tooltip({trigger:"hover",template:'<div class="tooltip tooltip_default" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'})}),console.info('Tooltip: [data-toggle="tooltip_default"] - runned'))},c=function(){var e=$(window).width();$(window).resize(function(){e!=$(window).width()&&(e=$(window).width())}),$(window).scroll(function(){}),$(".js-playVideo").on("click",function(){$(this).addClass("hidden"),$(this).next(".video__content").children("video")[0].play()})},r=function(){console.info("demoFunc Inject")};function f(){$(document).ready(function(){c(),e(),n(),t(),s(),r()})}window.elijah={_fancyboxSettings:a,fancyboxDefault:function(e){var o=$(e),n=o.data("popup"),t=o.data("popup-setting")||"default",s=a[t];s||(s=a.default,console.error('Нет таких настроек для попа. Проверьте значение [data-popup-setting]. Были применены настройки "default"')),s.src=n,$.fancybox.open(s)},fancyboxMessage:function(e,o,n){var t=0<arguments.length&&void 0!==e?e:{title:"Default title",text:"Lorem ipsum dolor.",extendClass:void 0},s=1<arguments.length?o:void 0,a=2<arguments.length?n:void 0,i={src:"#fancybox_message",type:"inline",opts:{touch:!1,afterShow:function(){$(".body_global").addClass("-scroll_off-")},beforeShow:function(){var e=t.title,o=t.text,n=t.extendClass;n&&$("#fancybox_message").addClass(n),s&&($("#fancybox_message").addClass("-success-"),$("#fancybox_message-success").on("click",function(){s()})),a&&($("#fancybox_message").addClass("-reject-"),$("#fancybox_message-reject").on("click",function(){a()})),$("#fancybox_message-title").text(e),$("#fancybox_message-text").text(o)},beforeClose:function(){$(".body_global").removeClass("-scroll_off-"),l||$(".body_global").removeClass("compensate-for-scrollbar")},afterClose:function(){var e=t.extendClass;$("#fancybox_message").removeClass(e),$("#fancybox_message").removeClass("-reject- -success-"),$("#fancybox_message-success").unbind(),$("#fancybox_message-reject").unbind()}}};$.fancybox.open(i)},inputmaskPhone:e,selectizeDefault:n,slickDefault:t,tooltipDefault:s,headerComponent:function(){},mainPage:c,demoFunc:r};try{void 0!==window.frameCacheVars?BX.addCustomEvent("onFrameDataReceived",function(){f()}):BX.ready(function(){f()})}catch(e){f()}});